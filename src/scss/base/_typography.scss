@use '../base/variables' as variables;
// Import the modern Sass color module
@use 'sass:color';

// Define CSS variables for global use, based on SCSS variables
:root {
  --primary-color: #{variables.$primary-color};
  --primary-light: #{variables.$primary-light};
  --primary-dark: #{variables.$primary-dark};
  --text-color: #{variables.$text-color};
  --text-color-muted: #{variables.$text-color-muted};
  --heading-color: #{variables.$heading-color};
  --bg-color: #{variables.$background-color};
  --panel-bg-color: #{variables.$panel-bg-color};
  --border-color: #{variables.$border-color};
  --accent-color-sea: #{variables.$accent-color-sea};
  --accent-color-sun: #{variables.$accent-color-sun};
  --accent-color-earth: #{variables.$accent-color-earth};
  --rhombus-skew-angle: 8deg;
}

// Google Fonts are now enqueued in functions.php for performance.
// The @import rules have been removed from this file.

// --- BASE TYPOGRAPHY ---
body {
    font-family: variables.$font-primary;
    font-size: 1rem;
    line-height: 1.65; // Slightly increased for better readability with Public Sans
    color: variables.$text-color;
    font-weight: 400;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: variables.$background-color; // Moved from a general styles file for clarity
}

// --- HEADINGS ---
// Using Syne for all headings with lighter weights and smaller, harmonious sizing
h1, h2, h3, h4, h5, h6,
.h1, .h2, .h3, .h4, .h5, .h6 {
    font-family: variables.$font-heading;
    font-weight: 400; // Default regular weight
    line-height: 1.3; // Slightly tighter for better visual balance with Syne
    margin: 0 0 0.8rem 0; // Reduced margin for better spacing
    color: variables.$heading-color;
}

h1, .h1 {
    font-size: clamp(1.6rem, 3.2vw, 2.2rem); // Reduced from previous sizes
    font-weight: 600; // Semi-bold for main headings
    letter-spacing: -0.015em; // Subtle letter spacing
    margin-bottom: 1rem;
}

h2, .h2 {
    font-size: clamp(1.4rem, 2.8vw, 1.8rem); // Reduced from previous sizes
    font-weight: 600; // Semi-bold for section headings
    letter-spacing: -0.01em;
    margin-bottom: 0.9rem;
}

h3, .h3 {
    font-size: clamp(1.2rem, 2.3vw, 1.5rem); // Reduced from previous sizes
    font-weight: 400; // Regular weight for better hierarchy
    margin-bottom: 0.8rem;
}

h4, .h4 {
    font-size: clamp(1.1rem, 1.9vw, 1.3rem); // Reduced from previous sizes
    font-weight: 400; // Regular weight
    margin-bottom: 0.7rem;
}

h5, .h5 {
    font-size: clamp(1rem, 1.4vw, 1.15rem); // Reduced from previous sizes
    font-weight: 300; // Light weight
    margin-bottom: 0.6rem;
}

h6, .h6 {
    font-size: clamp(0.9rem, 1.1vw, 1rem); // Reduced from previous sizes
    font-weight: 300; // Light weight
    text-transform: uppercase; // Uppercase for distinction
    letter-spacing: 0.03em; // Subtle letter spacing for caps
    margin-bottom: 0.5rem;
    color: variables.$text-color-muted; // Slightly muted for hierarchy
}

// --- BODY & PARAGRAPH TEXT ---
p {
    margin: 0 0 1.5rem 0;
    font-size: 1rem; // Base size for mobile

    @media (min-width: variables.$breakpoint-md) {
        font-size: 1.125rem; // Slightly larger for desktop readability
    }
}

.lead {
    font-family: variables.$font-primary;
    font-size: 1.25rem;
    font-weight: 400;
    line-height: 1.6;
    color: variables.$heading-color; // Make lead text slightly more prominent
    margin-bottom: 2rem;

    @media (min-width: variables.$breakpoint-md) {
        font-size: 1.375rem;
    }
}

// --- LINKS ---
// Using the vibrant 'Sea Blue' accent for links to make them stand out.
a {
    color: variables.$accent-color-sea;
    text-decoration: none;
    font-weight: 500; // Slightly bolder links
    transition: all 0.2s ease-in-out;

    &:hover,
    &:focus {
        // UPDATED: Replaced darken() with color.adjust()
        color: color.adjust(variables.$accent-color-sea, $lightness: -10%);
        text-decoration: underline;
        text-decoration-thickness: 2px;
    }
}

// --- LISTS ---
ul, ol {
    margin: 0 0 1.5rem 0;
    padding-left: 1.25rem;

    li {
        margin-bottom: 0.75rem;
        line-height: 1.7;
    }
}

// --- BLOCKQUOTES ---
// A more modern, clean blockquote style.
blockquote {
    font-family: variables.$font-heading; // Syne gives quotes a great character
    font-size: clamp(1.2rem, 2vw, 1.4rem);
    font-weight: 700;
    font-style: normal; // Syne doesn't need italics to stand out
    margin: 2rem 0;
    padding: 1.5rem;
    border: none; // Remove the old border
    border-left: 4px solid variables.$accent-color-sun; // Use the 'Sun Yellow' accent
    // UPDATED: Replaced lighten() with color.adjust()
    background-color: color.adjust(variables.$accent-color-sun, $lightness: 38%); // A very light yellow background
    color: variables.$heading-color;

    p:last-of-type {
        margin-bottom: 0;
    }

    cite {
        display: block;
        font-family: variables.$font-primary;
        font-size: 0.9rem;
        font-weight: 500;
        font-style: normal;
        margin-top: 1rem;
        color: variables.$text-color;

        &::before {
            content: 'â€” ';
        }
    }
}

// Other text elements remain largely the same, but will inherit the new base styles.
small, .small { font-size: 0.875rem; line-height: 1.5; color: variables.$text-color-muted; }
.text-center { text-align: center; }
.text-right { text-align: right; }
.font-weight-bold { font-weight: 700; } // Public Sans has a great 700 weight
.font-weight-medium { font-weight: 500; }
.font-weight-normal { font-weight: 400; }

// Hero section styles
.hero-title {
    font-size: clamp(2rem, 3.8vw, 2.8rem) !important; // Reduced from previous size
    font-weight: 600; // Semi-bold for hero
    line-height: 1.2;
    margin-bottom: 1.2rem;
    // UPDATED: Modern way to create a transparent shadow color
    $shadow-color: color.adjust(variables.$primary-dark, $lightness: -10%);
    text-shadow: 2px 2px 8px color.change($shadow-color, $alpha: 0.2);
}

.hero-subtitle {
    font-size: clamp(1rem, 1.8vw, 1.2rem) !important; // Reduced from previous size
    font-weight: 300; // Light weight for contrast
    line-height: 1.4;
    color: #fff;
    text-shadow: none;
    margin-bottom: 1rem;
}

// Listing-specific heading adjustments
.listing-hero-section .hero-title {
    font-size: clamp(1.7rem, 3.3vw, 2.5rem) !important; // Reduced from previous size
}

// Content area heading adjustments for better reading flow
.content-article, 
.listing-content,
.main-content {
    h1 {
        font-size: clamp(1.5rem, 2.8vw, 2rem); // Reduced from previous size
        margin-top: 0;
        margin-bottom: 1.2rem;
    }
    
    h2 {
        font-size: clamp(1.3rem, 2.3vw, 1.6rem); // Reduced from previous size
        margin-top: 2rem; // More space above section headings
        margin-bottom: 1rem;
    }
    
    h3 {
        font-size: clamp(1.15rem, 1.8vw, 1.35rem); // Reduced from previous size
        margin-top: 1.5rem;
        margin-bottom: 0.8rem;
    }
    
    h4, h5, h6 {
        margin-top: 1.2rem;
    }
}

// Sidebar heading adjustments
.sidebar-content,
.map-sidebar {
    h1, h2, h3, h4, h5, h6 {
        font-size: clamp(0.95rem, 1.4vw, 1.1rem); // Reduced from previous size
        font-weight: 400; // Regular weight for sidebar
        margin-bottom: 0.5rem;
        line-height: 1.3;
    }
    
    .sidebar-title {
        font-size: clamp(0.9rem, 1.1vw, 1rem); // Reduced from previous size
        font-weight: 400; // Regular weight instead of 600
        text-transform: uppercase;
        letter-spacing: 0.02em;
        color: variables.$text-color-muted;
        margin-bottom: 0.75rem;
    }
}
