// ==========================================================================
// LISTING DETAILS SECTIONS COMPONENT STYLES
// ==========================================================================
// Styles for the listing details sections (over the content 2)

@use '../base/variables' as vars;
@use 'sass:color';

.listing-details-full-section {
    width: 100vw;
    position: relative;
    left: 50%;
    right: 50%;
    margin-left: -50vw;
    margin-right: -50vw;
    padding: 7px;
    box-shadow: rgba(0, 0, 0, 0.06) 0px 27px 18px;
    margin-bottom: 26px;
    overflow-x: hidden; // Prevent horizontal overflow
    
    .listing-details-container {
        width: 100%;
        max-width: 100%;
        margin: 0;
        padding: 0;
        overflow-x: hidden; // Additional overflow protection
        
        // Layout adjustments based on content availability
        &.has-additional-info {
            // When additional info is present: 66.67% + 33.33% layout using explicit percentages
            display: grid;
            grid-template-columns: 66.67% 33.33%;
            grid-template-areas: "combined weather";
            
            .details-combined {
                grid-area: combined;
            }
            
            .details-weather {
                grid-area: weather;
            }
        }
        
        &.weather-only {
            // When no additional info: center weather with max-width
            display: flex;
            justify-content: center;
            
            .details-weather {
                max-width: 900px;
                width: 100%;
            }
        }
        
        @media (max-width: 1024px) { // Breakpoint for stacking
            display: block !important;
            
            .details-combined {
                width: 100%;
                display: block;
            }
            
            .details-weather {
                display: none; // Hide weather on mobile as requested
            }
            
            .details-column {                
                width: 100%;
                display: block;
            }
        }
    }
    
    .details-column {
        background: white;
        border-radius: 0;
        box-shadow: none;
        
        width: 60%;
        display: inline-block;
        &:last-child {
            border-right: none;
        }

        @media (max-width: 1024px) {
            border-right: none;
        }
        
        .column-content {
            padding: 1.5rem;
        }
        
        .section-heading {
            color: vars.$heading-color;
            margin-bottom: 1rem;
            font-size: 1.2rem;
            font-weight: 600;
        }
    }
    .details-weather {
        display: inline-flex;
        width: 39%;
        vertical-align: top;
    }
    // Combined column specific styles
    .details-combined {
        .site-access-section,
        .contact-details-section,
        .category-characteristics-section {
            margin-bottom: 2rem;
            
            &:last-child {
                margin-bottom: 0;
            }
        }
        
        .access-methods ul {
            list-style: none;
            padding: 0;
            
            li {
                padding: 0.5rem 0;
                border-bottom: 1px solid #eee;
                
                &:last-child {
                    border-bottom: none;
                }
            }
        }
        
        .access-notes {
            margin-top: 1rem;
            font-style: italic;
            color: #666;
        }
        
        .contact-social-icons {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            
            a {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                width: 32px;
                height: 32px;
                border-radius: 4px;
                background: #f5f5f5;
                color: #666;
                transition: all 0.2s ease;
                
                &:hover {
                    background: vars.$primary-color;
                    color: white;
                }
                
                svg {
                    width: 16px;
                    height: 16px;
                }
            }
        }
        
        .contact-whatsapp a {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: #25d366;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-size: 0.9rem;
            
            .whatsapp-icon {
                width: 16px;
                height: 16px;
            }
        }

        .characteristics-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;

            li {
                background: color.change(vars.$primary-color, $alpha: 0.08);
                color: color.change(vars.$primary-color, $lightness: -10%);
                padding: 0.5rem 1rem;
                border-radius: 20px;
                font-size: 0.9rem;
                font-weight: 500;
                display: inline-flex;
                align-items: center;
                border: 1px solid color.change(vars.$primary-color, $alpha: 0.2);

                .char-value {
                    font-weight: 600;
                    margin-left: 0.5rem;
                    color: vars.$heading-color;
                }
            }
        }
    }
    
    // Weather column specific styles
    .details-weather {
        #openmeteo {
            // Weather widget container
            min-height: 200px;
        }
    }
}